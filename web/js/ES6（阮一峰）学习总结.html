<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6（阮一峰）学习总结 | XingYu&#39;s blog</title>
    <meta name="description" content="我的个人网站">
    <link rel="icon" href="/xy.png">
    
    <link rel="preload" href="/assets/css/0.styles.f19a918d.css" as="style"><link rel="preload" href="/assets/js/app.78c4e678.js" as="script"><link rel="preload" href="/assets/js/23.9a5c33b3.js" as="script"><link rel="prefetch" href="/assets/js/10.115f5fc3.js"><link rel="prefetch" href="/assets/js/11.167197dc.js"><link rel="prefetch" href="/assets/js/12.a83f39ac.js"><link rel="prefetch" href="/assets/js/13.496031cf.js"><link rel="prefetch" href="/assets/js/14.ef2187b1.js"><link rel="prefetch" href="/assets/js/15.3669c573.js"><link rel="prefetch" href="/assets/js/16.05d9ff5e.js"><link rel="prefetch" href="/assets/js/17.c8928b13.js"><link rel="prefetch" href="/assets/js/18.fa9c51bf.js"><link rel="prefetch" href="/assets/js/19.7f1e53a8.js"><link rel="prefetch" href="/assets/js/2.2a9e89da.js"><link rel="prefetch" href="/assets/js/20.bd3ce88b.js"><link rel="prefetch" href="/assets/js/21.eb694faf.js"><link rel="prefetch" href="/assets/js/22.95cbeaa7.js"><link rel="prefetch" href="/assets/js/24.f5d2299e.js"><link rel="prefetch" href="/assets/js/25.25873e36.js"><link rel="prefetch" href="/assets/js/26.e19624b1.js"><link rel="prefetch" href="/assets/js/27.01fe9ce7.js"><link rel="prefetch" href="/assets/js/28.091428fc.js"><link rel="prefetch" href="/assets/js/3.4b21c958.js"><link rel="prefetch" href="/assets/js/4.9749ac73.js"><link rel="prefetch" href="/assets/js/5.2875a022.js"><link rel="prefetch" href="/assets/js/6.16fcd8e1.js"><link rel="prefetch" href="/assets/js/7.7f2d9db6.js"><link rel="prefetch" href="/assets/js/8.217f8a2b.js"><link rel="prefetch" href="/assets/js/9.4b5dd603.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f19a918d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/xy.png" alt="XingYu's blog" class="logo"> <span class="site-name can-hide">XingYu's blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Web Developer</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html/前端资源.html" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/web/css/CSS教程技巧.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/web/js/ES6（阮一峰）学习总结.html" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/web/vue/MVVM模式.html" class="nav-link">VUE</a></li></ul></div></div><div class="nav-item"><a href="/composite/VuePress入门.html" class="nav-link">Composite</a></div><div class="nav-item"><a href="/essay/随笔记.html" class="nav-link">Essay</a></div><div class="nav-item"><a href="/about/关于我.html" class="nav-link">About</a></div><div class="nav-item"><a href="https://github.com/zhangxingyu618" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Web Developer</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html/前端资源.html" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/web/css/CSS教程技巧.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/web/js/ES6（阮一峰）学习总结.html" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/web/vue/MVVM模式.html" class="nav-link">VUE</a></li></ul></div></div><div class="nav-item"><a href="/composite/VuePress入门.html" class="nav-link">Composite</a></div><div class="nav-item"><a href="/essay/随笔记.html" class="nav-link">Essay</a></div><div class="nav-item"><a href="/about/关于我.html" class="nav-link">About</a></div><div class="nav-item"><a href="https://github.com/zhangxingyu618" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/web/js/ES6（阮一峰）学习总结.html" class="active sidebar-link">ES6（阮一峰）学习总结</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="es6（阮一峰）学习总结"><a href="#es6（阮一峰）学习总结" class="header-anchor">#</a> ES6（阮一峰）学习总结</h1> <p><strong>1.块级作用域的引入</strong></p> <p>在ES6之前，js只有全局作用域和函数作用域，ES6中let关键字为其引入了块级作用域。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">let</span>  b <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//b is undefined</span>
</code></pre></div><p>let声明的变量只能在其所在的代码块内才能访问，var声明的变量由于是全局变量，因此可以在代码块外访问</p> <p><strong>2.暂时性死区</strong></p> <p>var声明的变量可以在声明之前使用，相当于默认为其声明其值为undefined了；</p> <p>但是，let声明的变量一旦用let声明，那么在声明之前，此变量都是不可用的，术语称为“暂时性死区”。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//undefined</span>
<span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;----------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//控制台报错</span>
<span class="token keyword">let</span> b<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">;</span>
</code></pre></div><p>所以我们要养成变量先声明再使用的好习惯。</p> <p><strong>3.const命令</strong></p> <p>const用来定义常量，相当于java中的final关键字。</p> <p>并且const声明常量之后就必须立即初始化！</p> <p><strong>4.解构赋值</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span><span class="token punctuation">{</span>x1<span class="token punctuation">,</span>x2<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>x2<span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>x1<span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e<span class="token punctuation">]</span><span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span>  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">--</span><span class="token operator">-</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以理解为“模式匹配”。</p> <p><strong>5.字符串</strong></p> <p>Unicode表示法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;\u{码点}&quot;</span>
<span class="token string">&quot;\u{41}\u{42}\u{43}&quot;</span>                 <span class="token comment">//&quot;ABC&quot;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;書剑恩仇录&quot;</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//返回字符的码点并由十进制转到16进制---66f8</span>
String<span class="token punctuation">.</span><span class="token function">fromCodePoint</span><span class="token punctuation">(</span><span class="token number">0x66f8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//返回码点对应的字符---書</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> a <span class="token keyword">of</span> str<span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>                                   <span class="token comment">//for...of循环遍历字符串中每个字符挨个输出字符</span>
str<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//返回指定位置的字符，目前只是提案</span>
str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'書'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//从指定位置往后开始检查，是否以“書”开始，位置参数可省略，默认为0</span>
str<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'剑'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//从指定位置向前检查，是否以“剑”结束</span>
str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'恩'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//同上，不再啰嗦</span>
str<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//字符串重复指定次数“書剑恩仇录書剑恩仇录”，小数取整，Infinity和负数报错</span>
str<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">'ab'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//指定字符从前开始补直到字符串长度符合要求，&quot;aba書剑恩仇录&quot;</span>
str<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">'ab'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//指定字符从后开始补直到字符串长度符合要求，&quot;書剑恩仇录aba&quot;，若长度小于原长度，返回原字符串，上同</span>
</code></pre></div><p><strong>6.模板字符串</strong></p> <p>模板字符串采用反引号（`）标识，并且模板字符串中的空格、换行将在输出时有所保留。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 普通字符串</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">In JavaScript '\n' is a line-feed.</span><span class="token template-punctuation string">`</span></span>

<span class="token comment">// 多行字符串</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">In JavaScript this is
 not legal.</span><span class="token template-punctuation string">`</span></span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text line 1
string text line 2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 字符串中嵌入变量</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> time <span class="token operator">=</span> <span class="token string">&quot;today&quot;</span><span class="token punctuation">;</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, how are you </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token template-punctuation string">`</span></span>
</code></pre></div><p>${主体}，其中主体可以是表达式、运算、对象属性还可以是函数，若是字符串将直接输出该字符串。</p> <p><strong>7.含参函数的调用</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token parameter">something</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;she say&quot;</span><span class="token operator">+</span><span class="token string">&quot; '&quot;</span><span class="token operator">+</span>something<span class="token operator">+</span><span class="token string">&quot;'&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
say<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>                             <span class="token comment">//she say 'hello'</span>
</code></pre></div><p>等同于say('hello')。</p> <p><strong>8.数值拓展</strong></p> <p>和字符串对象类似的，ES6也为数值类对象例如Number、Math添加了新的方法以及属性（常量），在这里就不多作记录。</p> <p><strong>9.函数function</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span>sex<span class="token operator">=</span><span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">&quot; is a &quot;</span><span class="token operator">+</span>sex<span class="token operator">+</span><span class="token string">&quot;!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                  <span class="token comment">//jack is a boy!</span>
<span class="token function">show</span><span class="token punctuation">(</span><span class="token string">'judy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">//judy is a boy!</span>
<span class="token function">show</span><span class="token punctuation">(</span><span class="token string">'judy'</span><span class="token punctuation">,</span><span class="token string">'girl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//judy is a girl!</span>
</code></pre></div><p>为函数的参数添加默认值，执行函数时如果不传该参数，那么就用默认值代替。</p> <p>箭头函数：</p> <p>var 变量名/函数名 = （参数，参数）=&gt;{代码块}</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">;</span>
<span class="token comment">//等同于</span>
<span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>注意：如果return的是一个对象{id:id,age:age},那么箭头右边要用括号包起来().</p> <p><strong>10.数组的扩展</strong></p> <p>扩展运算符为三个点（...）,将一个数组转化为参数序列，通常与函数一起使用，show(...['judy','girl'])。</p> <p>数组合并：[...arr1,...arr2,...arr3]</p> <p>字符串转字符数组：[...&quot;hello&quot;]--------------[&quot;h&quot;,&quot;e&quot;,&quot;l&quot;,&quot;l&quot;,&quot;o&quot;]</p> <p>将实现Iterator接口的对象转化为真正的数组：[...nodelist]，这里的nodelist是一个类似于数组的nodelist对象</p> <p>Generator 函数：该函数执行后返回一个遍历器对象，拓展运算符也可将其转化为数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">a</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//[3,4,5]</span>
</code></pre></div><p><strong>11.数组的方法</strong></p> <p>Array.from(对象，对新数组各项的改动规则)</p> <p>这里的对象只适合①类数组对象②实现Iterator接口的对象；后面的规则可选</p> <p>e.g:</p> <p>Array.from([1, 2, 3], (x) =&gt; x * x)     //这里将数组每项按一定规则改变生成新数组[1,4,9]``</p> <p>Array.of(数据1，数据2，数据3)</p> <p>将一组数据转化为数组</p> <p>e.g：</p> <p>Array.of(1,2,3,4,5)                //[1,2,3,4,5]</p> <p>copyWithin(被覆盖起始位置，选取的数据起始位置，选取额数据结束位置)</p> <p>截取数组的一段数据，并覆盖到指定位置</p> <p>e.g：</p> <p>[1,2,3,4,5].copyWithin(0,2,4)        //被截取数据位置为[2,4）---[3,4],替换起始位置是0，所以结果是[3,4,3,4,5]</p> <p>find(规则)、findIndex(规则)</p> <p>这里的规则是一个回调函数，找到了就返回这个数组项/索引，找不到返回undefined/-1</p> <p>e.g：</p> <p>[9,8,7,6,5,4,3].find(n=&gt;n&lt;5)        //返回4</p> <p>还可以添加第二个参数，如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span>  <span class="token function-variable function">c</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a  <span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//c、f都可以  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>                                      <span class="token comment">//26</span>
</code></pre></div><p>fill(被填充数据，起始位置，结束位置)</p> <p>如果起始位置、结束位置不写，那么就默认全部填充</p> <p>e.g：</p> <p>[2,2,2,2,2,2].fill(8,2,4)                //将8覆盖原[2,4)位置上的数据，[2,2,8,8,2,2]</p> <p>注意，如果给每项赋值的是一个对象，那么实际上只是一个指针，若改变一个位置的对象内容，那么所有项</p> <p>的对象内容都会改变。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'jack'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//[ 2, { name: 'jack' }, { name: 'jack' }, { name: 'jack' }, 2, 2 ]</span>
a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;echo&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//[ 2, { name: 'echo' }, { name: 'echo' }, { name: 'echo' }, 2, 2 ]</span>
</code></pre></div><p>for...of遍历数组的键、值、以及各项键值对信息</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 0</span>
<span class="token comment">// 1</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> elem <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 'a'</span>
<span class="token comment">// 'b'</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> elem<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 0 &quot;a&quot;</span>
<span class="token comment">// 1 &quot;b&quot;</span>
</code></pre></div><p>备注：有的浏览器没有实现数组的values()方法，比如：Chrome！</p> <p><strong>12：对象的拓展</strong></p> <p>对象里面可以直接写入变量和函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//before：</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'eco'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">something</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello &quot;</span><span class="token operator">+</span>something<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//now:</span>
<span class="token keyword">var</span> firstname<span class="token operator">=</span><span class="token string">'jack'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> man <span class="token operator">=</span> <span class="token punctuation">{</span>
    firstname<span class="token punctuation">,</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token parameter">something</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>firstname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello &quot;</span><span class="token operator">+</span>something<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
man<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>属性名/方法名：可以用中括号里面加上表达式的方式</p> <p>e.g：</p> <p>var a = 'age';</p> <p>person.age=person['age']=person[a]</p> <p>方法的name属性返回方法名</p> <p>person.say.name                  //&quot;say&quot;</p> <p>Object.is(值1，值2)用于比较两个值是否相等，返回布尔值</p> <p>Object.assign(targetobject,sourceobject1,sourceobject2)</p> <p>用于对象的合并，将源对象合并到目标对象，若有相同属性源对象属性覆盖目标对象属性</p> <p>如果源对象是其他数据类型，只有字符串会以字符数组形式拷到目标对象，其他类型不会有效果。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> v1 <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> v2 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> v3 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> v1<span class="token punctuation">,</span> v2<span class="token punctuation">,</span> v3<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// { &quot;0&quot;: &quot;a&quot;, &quot;1&quot;: &quot;b&quot;, &quot;2&quot;: &quot;c&quot; }</span>
</code></pre></div><p>对象的属性描述：Object.getOwnPropertyDescriptors(obj)</p> <p>对象的继承相关：</p> <p>Object,setPrototypeOf(obj,proto)          //为obj对象设置一个原型对象，那么obj继承了proto对象的所有属性</p> <p>Object.getPrototypeOf(obj)               //不难看出，这是读取一个对象的原型对象</p> <p>super                                //指向当前对象的原型对象，相当于java中的超类</p> <p><strong>13.Symbol函数</strong></p> <p>为了防止不同人员书写代码造成变量名/方法名的冲突</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//函数可以添加带有描述性语言的字符串参数</span>
a <span class="token operator">===</span> b <span class="token punctuation">;</span>          
<span class="token comment">//false</span>
</code></pre></div><p><strong>14.Set和Map数据结构</strong></p> <p>Set：成员不重复的类数组结构</p> <p>Set属性：size---返回成员总数</p> <p>Set操作方法：add(value)---返回Set、delete(value)---返回布尔、has(value)---返回布尔、clear()---无返回值</p> <p>Set遍历方法：keys()---返回键（索引）的遍历器、values()---返回值的遍历器、</p> <p>entries---返回键值对的遍历器、forEach(callback())---遍历每个成员，并通过回调函数基于数据做点什么</p> <p>WeakSet：类似于Set，只是它的成员只能是对象，没有size，不能遍历</p> <p>Map：广义上的键值对集合，键的范围不局限于字符串，对象也可以当作键</p> <p>Map操作方法：set(key,value)---设置成员、get(key)---读取指定键的值，若无返回undefined</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//[...set]---[1,2,3,4]</span>

<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'Author'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>15.Proxy代理</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">'prototype'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">'Hello, '</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">apply</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisBinding<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">construct</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>value<span class="token operator">:</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> fproxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fproxy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>                                      <span class="token comment">// 1</span>
<span class="token keyword">new</span> <span class="token class-name">fproxy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>                                  <span class="token comment">// {value: 2}</span>
fproxy<span class="token punctuation">.</span>prototype <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype             <span class="token comment">// true</span>
fproxy<span class="token punctuation">.</span>foo <span class="token operator">===</span> <span class="token string">&quot;Hello, foo&quot;</span>                       <span class="token comment">// true</span>
</code></pre></div><p>我们可以看出，上面声明了一个变量/函数fproxy，并且为其添加了一个拦截器对象handler，</p> <p>那么对fproxy进行一些操作行为的时候，会优先被这个拦截器捕获，进行特定处理后输出结果</p> <p>var fproxy = new Proxy(target,handler);      //一个Proxy实例</p> <p>construct：构造一个新的fproxy时会触发拦截器的该方法，new fproxy(1,2)===&gt;return {value : args[1]}===&gt;{value : 2}</p> <p>apply：函数执行时会触发拦截器的该方法，fproxy(1,2)===&gt;return args[0]===&gt;1</p> <p>get：读取属性值的时候会触发拦截器的该方法，fproxy.foo===&gt;foo对应该方法的参数name，return 'Hello, '+name;===&gt;&quot;Hello, foo&quot;</p> <p>set：设置属性值的时候会触发拦截器的该方法。</p> <p>备注：</p> <p>let obj = Object.create(fproxy);</p> <p>这里为obj设置了原型fproxy，那么obj继承了fproxy的所有属性，obj.foo===&gt;fproxy.foo===&gt;&quot;Hello, foo&quot;</p> <p>Proxy支持的拦截操作除了上面的4中之外还有9中，有兴趣的请点击 <strong><a href="http://es6.ruanyifeng.com/#docs/proxy" target="_blank" rel="noopener noreferrer">Proxy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong>。</p> <p><strong>16.Reflect反射</strong></p> <p>类似于java的反射，在跳过编译、不加载类的前提下，动态地调用类中的方法。</p> <p>和Proxy相对应的，Reflect也有13个静态方法，详情请点击 <strong><a href="http://es6.ruanyifeng.com/#docs/reflect" target="_blank" rel="noopener noreferrer">Reflect<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong>。</p> <p>Reflect.get(target,name,receiver)------------读取target对象（必须是对象）的name属性值，若无返回undefined，</p> <p>若name属性有get声明，那么name函数中的this指向receiver对象。</p> <p>Reflect.set(target,name,value,receiver)----设置target对象（必须是对象）的name属性值为value，</p> <p>若name属性有set声明，那么name函数中的this指向receiver对象。</p> <p>注意：当Proxy和Reflect同时使用时，为一个Proxy实例赋值时，触发set拦截，若set拦截方法体内又有</p> <p>Reflect.set(target,name,value,receiver)，那么这又会触发拦截器的defineProperty拦截，前提是反射操作</p> <p>​     传入了receiver参数！！！</p> <p>Reflect.has(obj,name)---------------------------返回布尔值，表示obj对象中有没有name属性。</p> <p><strong>17.Promise---异步</strong></p> <p>先来看ajax的异步：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#send'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
             type<span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
             url<span class="token operator">:</span> <span class="token string">&quot;test.json&quot;</span><span class="token punctuation">,</span>
             data<span class="token operator">:</span> <span class="token punctuation">{</span>username<span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> content<span class="token operator">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
             dataType<span class="token operator">:</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>
             <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                         <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#resText'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//清空resText里面的所有内容</span>
                         <span class="token keyword">var</span> html <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> 
                         $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">commentIndex<span class="token punctuation">,</span> comment</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                               html <span class="token operator">+=</span> <span class="token string">'&lt;div class=&quot;comment&quot;&gt;&lt;h6&gt;'</span> <span class="token operator">+</span> comment<span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span>
                                         <span class="token operator">+</span> <span class="token string">':&lt;/h6&gt;&lt;p class=&quot;para&quot;'</span> <span class="token operator">+</span> comment<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span>
                                         <span class="token operator">+</span> <span class="token string">'&lt;/p&gt;&lt;/div&gt;'</span><span class="token punctuation">;</span>
                         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                         <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#resText'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的例子实现了一个类似于表单提交的功能。</p> <p>Promise的异步：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//实例化后立即执行</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">//任务（成功）完成</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'resolved.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//任务结束执行</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hi!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">//在实例化promise的同时，执行</span>
</code></pre></div><p>显示顺序：&quot;Promise&quot;---&quot;Hi&quot;---&quot;resolved&quot;</p> <p>可以看出，在promise执行的整个过程中（实例化到结束），并没有阻塞其他外部语句的执行，换句话说，其他语句</p> <p>不用等到输出&quot;resolved&quot;之后再执行。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">loadImageAsync</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//promise对象状态变为resolved</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    image<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Could not load image at '</span> <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>                                       <span class="token comment">//promise对象状态变为rejected并抛出错误</span>

    image<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意：上面状态改变时传入函数的参数（image、new Error），会传到之后then函数，作为then函数的参数的参数！！！</p> <p>loadImageAsync(url).then( function(success){console.log(success);}  ,function(error){console.log(error);});</p> <p>这里的success接收来自resolved状态的参数image，error接收来自rejected状态的参数new Error。</p> <p>事实上then后面还可以加上一个catch函数用来捕捉rejected状态产生的错误,这样就可以省略掉then函数里面的第二个参数</p> <p>promise.then(success()).catch(error()).finally(function(){});</p> <p>看上去是不是类似于java的try...catch...finally呢？</p> <p>其他方法请戳===&gt;<strong><a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener noreferrer">Promise<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></strong>。</p> <p><strong>18.Iterator接口</strong></p> <p>具备Iterator接口的原生数据结构：</p> <p>Array---Map---Set---String---TypedArray---NodeList对象---函数的arguments对象。</p> <p>实用场景：</p> <p>解构赋值：let [x,y] = new Set([1,2,3])               //x=1;y=2</p> <p>扩展运算符：[...iterable]                         //将实现Iterator接口的对象转化为数组</p> <p>yield*：yield*[2,3,4]---yield 2;yield 3;yield 4;          //generator函数内部</p> <p>....</p> <p>实现了Iterator接口的数据类型，都会有一个属性[Symbol.iterator]，固定写法，它是一个函数，返回一个遍历器对象</p> <div class="language-js extra-class"><pre class="language-js"><code>e<span class="token punctuation">.</span>g<span class="token operator">:</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iter <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//返回一个遍历器</span>
iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                        <span class="token comment">// { value: 'a', done: false }</span>
iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                        <span class="token comment">// { value: 'b', done: false }</span>
iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                        <span class="token comment">// { value: 'c', done: false }</span>
iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                        <span class="token comment">// { value: undefined, done: true }</span>
</code></pre></div><p>注意：</p> <p>for...in循环：只能获取对象的键名</p> <p>for...of循环：可以获得键值，只返回具有数字索引的属性（键或值）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> a <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 0 1 2 3</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> a <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// a b c d</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>19.Generator函数补充</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">a</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//[3,4,5]</span>
</code></pre></div><p>只有执行a().next()，函数内部的语句才会执行一次，每调用一次next()函数执行一次内部函数。</p> <p>e.g:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">dataConsumer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Started'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1. </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">yield</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">2. </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">yield</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">'result'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> genObj <span class="token operator">=</span> <span class="token function">dataConsumer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// Started；执行了第一条语句</span>
genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>          <span class="token comment">// 1. a；执行了第二条语句</span>
genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>          <span class="token comment">// 2. b；执行了第三条语句</span>
</code></pre></div><p>next()函数有一个可选参数，用来表示上一次yield表达式值。</p> <p>e.g:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">yield</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token punctuation">(</span>y <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> y <span class="token operator">+</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                   <span class="token comment">// { value:6, done:false }</span>
b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>                 <span class="token comment">// { value:8, done:false }</span>
b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span>                 <span class="token comment">// { value:42, done:true }</span>
</code></pre></div><p>解析：</p> <p>第一次next()，x=5，那么yield(x+1)=6---{value:6,done:false}</p> <p>第二次next(12)，令yield(x+1)=12，那么y=24,输出yield(y/3)=8---{value:8,done:false}</p> <p>第三次next(13)，令yield(y/3)=13，前面yield(x+1)=12，那么最终z=13，y=24，x=5，return (x+y+z)=42---{value:42,done:true}</p> <p>throw:</p> <p>两种throw：遍历器对象的throw()，全局命令throw</p> <p>iter.throw(error),这个错误会被遍历器函数内部的catch捕获，</p> <p>iter.throw(error),遍历器对象再次抛出错误，由于内部的catch已经执行了，那么这次的error会被外部的catch捕获</p> <p>throw new Error(error),这是个全局命令，会被全局（外部）作用域的catch捕获，遍历器对象内部的catch是不能捕获的</p> <p>遍历器抛出的错误优先被遍历器内部捕获，内部没有catch才会被外部catch捕获</p> <p>①遍历器捕捉到错误之后，除了执行catch内部的命令之外，还会自动执行一次next()方法。</p> <p>②Generator 执行过程中抛出错误，且没有被内部捕获，就不会再执行下去了。</p> <p>如果此后还调用next方法，将返回一个value属性等于undefined、done属性等于true的对象。</p> <p>③遍历器的return(参数)方法会终结函数，并返回一个对象{value:参数，done:true},参数为空，value为undefined。</p> <p>如果有finally，那么这个return会在finally结束后执行。</p> <p>④要在gen函数内部调用别的gen函数，要使用yield* gen()语句，如果没有这个*号，那么next().value返回的是一个遍历器对象</p> <p><strong>20.async函数</strong></p> <p>async就表示asynchronous（异步的），async函数会返回一个Promise对象，自然能够调用其方法：</p> <p>promise.then(success()).catch(error()).finally(function(){});</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStockPriceByName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> symbol <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getStockSymbol</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> stockPrice <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getStockPrice</span><span class="token punctuation">(</span>symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> stockPrice<span class="token punctuation">;</span>             <span class="token comment">//stockPrice是一个promise对象</span>
<span class="token punctuation">}</span>

<span class="token function">getStockPriceByName</span><span class="token punctuation">(</span><span class="token string">'goog'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以看出，它和一般函数没多大区别，只是多了一个async标识。</p> <p>注意：上面所说到的返回一个对象，这个对象本身没什么特别，只是他可以作为promise对象，在调用then方法的时候作为参数传</p> <p>到函数里面。而且因为这个对象会被当做promisi对象，return关键字可以替换成await。</p> <p><strong>21.class</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'('</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//(1,2)</span>
a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span>                  <span class="token comment">// true</span>
a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span>                  <span class="token comment">// true</span>
a<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span>           <span class="token comment">// false</span>
a<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>a是没有定义toString()方法的，所以从它的原型Point上调用此方法。</p> <p>继承：extends关键字</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// 调用父类的constructor(x, y)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的toString()</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>继承了父类的所有属性，也可以添加或者修改属性</p> <p><strong>22.模块化</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//lib.js</span>
<span class="token keyword">var</span> counter <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">incCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  counter<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  counter<span class="token operator">:</span> counter<span class="token punctuation">,</span>
  incCounter<span class="token operator">:</span> incCounter<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>这是一个js模块，对外暴露两个属性counter（变量）、incCounter（函数），然后再去加载这个模块</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">var</span> mod <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lib'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mod<span class="token punctuation">.</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3</span>
mod<span class="token punctuation">.</span><span class="token function">incCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mod<span class="token punctuation">.</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3</span>
</code></pre></div><p>这样就可以去调用该模块对外暴露的属性了，</p> <p>（我不怕千万人阻挡，只怕自己投降!）</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.78c4e678.js" defer></script><script src="/assets/js/23.9a5c33b3.js" defer></script>
  </body>
</html>
